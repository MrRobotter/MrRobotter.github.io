<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="JoinYon&#39;s Blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://joinyon.top">
    <!--SEO-->



<meta name="keywords" content="张俊阳"/>



<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>Android 获取基站信息 | JoinYon&#39;s Blog</title>


    <link rel="alternate" href="/atom.xml" title="JoinYon&#39;s Blog" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    



    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?a8c8b303b74043f999d08243b00df898";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    
</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(https://github.com/twoyao/beautiful-hexo/blob/master/source/bigimgs/01.jpg?raw=true)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='JoinYon'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>主页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Android"><i class="fa "></i>Android</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/技术"><i class="fa "></i>技术</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/区块链"><i class="fa "></i>区块链</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/资讯"><i class="fa "></i>资讯</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/生活"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/about"><i class="fa "></i>关于</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Android 获取基站信息">
            
	            Android 获取基站信息
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2020/06/09</span>
        </span>
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><ul>
<li>《银联卡收单机构mPOS业务风险防控指引》(中国银联风险管理委员会第五届第一次会议审议通过)中第6条商户交易监控.<pre><code>6.1交易信息采集及上送，建议收单机构采集并向银联准确上送以下信息:
a. 交易信息： 终端编号、 终端硬件序列号、 交易地理位置信息（GPS、 IP、 基站位置信息等）、 上位机设备号；
b. 重要注册信息： 应用软件用户绑定的手机号码、 终端激活（开通） 时间及地理位置、 收款卡号等。
以上信息具体规范另行制定。
6.2 交易监控
收单机构应针对 mPOS 业务加强套现、 伪卡和移机等欺诈交易的监控， 及时提示和预警相关异常交易， 包括但不限于下列情形：
a. 商户交易单笔金额及总额与其业务类型不相符；
b. 商户交易金额出现较大波动；
c. 连续大额交易， 并贴近交易限额；
d. 非正常营业时间的交易，特别是凌晨时段的交易；
e. 商户 终端在短期内频繁交易， 并有多次交易授权失败；
f. 商户 申领终端后迅速出现大额、 高频连续交易，或长期未发生交易的“休眠商户” 突然出现大额或连续交易；
g. 终端使用位置与注册地址不一致， 并且与商户业务特点不符；
h. 终端超出商户本省范围使用；
i. 注册地址不同的多个终端短时间内在同一位置发生交易。
</code></pre>其中要求上送交易地理位置信息，就提到了基站。<br>上游渠道也明确建议了上送基站信息，故对终端进行了改造，上送格式为TLV形式，作为59域的子域，也有第三方收单机构放在62域，组合形式都不一样但上送的也就是以下几个重要信息。<h3 id="基站定位"><a href="#基站定位" class="headerlink" title="基站定位"></a>基站定位</h3></li>
<li><p>Android 基站分CdmaCellLocation和GsmCellLocation，要根据不同的SIM卡转成不同的对象</p>
</li>
<li><p>基站参数说明</p>
<pre><code>MCC，Mobile Country Code，移动国家代码（中国的为460）；
MNC，Mobile Network Code，移动网络号码（中国移动为0，中国联通为1，中国电信为2）；
LAC，Location Area Code，位置区域码;
CID，Cell Identity，基站编号；
BSSS，Base station signal strength，基站信号强度。
</code></pre></li>
<li><p>1 获取当前手机连接的基站信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">TelephonyManager mTelephonyManager = (TelephonyManager) mContext.getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);</span><br><span class="line">        if (mTelephonyManager == null) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        String operator = mTelephonyManager.getNetworkOperator();</span><br><span class="line">        //获取的基站信息是</span><br><span class="line">        if (operator == null || operator.length() &lt; 5) &#123;</span><br><span class="line">           //获取基站信息有问题,可能是手机没插sim卡</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        int mcc = Integer.parseInt(operator.substring(0, 3));</span><br><span class="line">        int mnc = Integer.parseInt(operator.substring(3));</span><br><span class="line">        int lac;</span><br><span class="line">        int cellId;</span><br><span class="line">        CellLocation cellLocation = mTelephonyManager.getCellLocation();</span><br><span class="line">        if (cellLocation == null) &#123;</span><br><span class="line">            //可能是手机没插sim卡之类的,返回获取基站失败</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">//因为移动联通电信基站的不同，所以需要区分基站类型</span><br><span class="line">//中国移动和中国联通获取LAC,CID的方式</span><br><span class="line">if (mTelephonyManager.getPhoneType() == TelephonyManager.PHONE_TYPE_GSM) &#123;</span><br><span class="line">           //当前连接的是gsm基站</span><br><span class="line">            GsmCellLocation location = (GsmCellLocation) cellLocation;</span><br><span class="line">            lac = location.getLac();</span><br><span class="line">            cellId = location.getCid();</span><br><span class="line">            BaseStationInfo baseStationInfo = new BaseStationInfo();</span><br><span class="line">            baseStationInfo.setMcc(mcc);</span><br><span class="line">            baseStationInfo.setMnc(mnc);</span><br><span class="line">            baseStationInfo.setLac(lac);</span><br><span class="line">            baseStationInfo.setCid(cellId);</span><br><span class="line">            baseStationInfo.setBaseType(0);</span><br><span class="line">&#125;</span><br><span class="line">//中国电信获取LAC,CID的方式</span><br><span class="line">if (mTelephonyManager.getPhoneType() == TelephonyManager.PHONE_TYPE_CDMA) &#123;</span><br><span class="line">            //当前连接是cdma基站</span><br><span class="line">            CdmaCellLocation cdma = (CdmaCellLocation) mTelephonyManager.getCellLocation();</span><br><span class="line">            BaseStationInfo baseStationInfo = new BaseStationInfo();</span><br><span class="line">            baseStationInfo.setBaseType(1);</span><br><span class="line">            baseStationInfo.setSid(cdma.getSystemId());</span><br><span class="line">            baseStationInfo.setNid(cdma.getNetworkId());</span><br><span class="line">            baseStationInfo.setBid(cdma.getBaseStationId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2 获取获取附近的基站信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 获取邻区基站信息</span><br><span class="line">List&lt;CellInfo&gt; infos = mTelephonyManager.getAllCellInfo();</span><br><span class="line">if(infos==null)&#123;</span><br><span class="line">  //没有获取附近任何的基站信息</span><br><span class="line">  return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3 基站类型的话，也是分为好几种类型的,需要做区分的处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">for (CellInfo i : infos) &#123;</span><br><span class="line">  if (i instanceof CellInfoGsm) &#123;//gsm基站</span><br><span class="line">    Log.i(TAG, &quot;附近发现gsm基站Mcc = &quot; + cellIdentityGsm.getMcc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现gsm基站Mnc = &quot; + cellIdentityGsm.getMnc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现gsm基站Lac = &quot; + cellIdentityGsm.getLac());</span><br><span class="line">    Log.i(TAG, &quot;附近发现gsm基站Cid = &quot; + cellIdentityGsm.getCid());</span><br><span class="line">  &#125;else if (i instanceof CellInfoCdma) &#123;//cdma基站</span><br><span class="line">    Log.i(TAG, &quot;附近发现cdma基站sid = &quot; + cellIdentityCdma.getSystemId());</span><br><span class="line">    Log.i(TAG, &quot;附近发现cdma基站nid = &quot; + cellIdentityCdma.getNetworkId());</span><br><span class="line">    Log.i(TAG, &quot;附近发现cdma基站sid = &quot; + cellIdentityCdma.getBasestationId());</span><br><span class="line">  &#125;else if (i instanceof CellInfoLte) &#123;//lte基站</span><br><span class="line">    Log.i(TAG, &quot;附近发现lte基站Mcc = &quot; + cellIdentityLte.getMcc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现lte基站Mnc = &quot; + cellIdentityLte.getMnc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现lte基站Lac = &quot; + cellIdentityLte.getTac());</span><br><span class="line">    Log.i(TAG, &quot;附近发现lte基站Cid = &quot; + cellIdentityLte.getCi());</span><br><span class="line">  &#125;else if (i instanceof CellInfoWcdma) &#123;//wcdma基站</span><br><span class="line">    Log.i(TAG, &quot;附近发现wcdma基站Mcc = &quot; + cellIdentityWcdma.getMcc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现wcdma基站Mnc = &quot; + cellIdentityWcdma.getMnc());</span><br><span class="line">    Log.i(TAG, &quot;附近发现wcdma基站Lac = &quot; + cellIdentityWcdma.getLac());</span><br><span class="line">    Log.i(TAG, &quot;附近发现wcdma基站Cid = &quot; + cellIdentityWcdma.getCid());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证网站<a href="http://www.cellocation.com/interfac/" target="_blank" rel="noopener">http://www.cellocation.com/interfac/</a><br>测试获取到的信息为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MCC = 460	 MNC = 0	 LAC = 22705	 CID = 193641985</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>将参数分别代入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://api.cellocation.com:81/cell/?mcc=460&amp;mnc=0&amp;lac=22705&amp;ci=193641985&amp;output=xml</span><br></pre></td></tr></table></figure></p>
<p><a href="http://api.cellocation.com:81/cell/?mcc=460&amp;mnc=0&amp;lac=22705&amp;ci=193641985&amp;output=xml" target="_blank" rel="noopener">验证</a><br>结果输出为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;response&gt;</span><br><span class="line">&lt;errcode&gt;0&lt;/errcode&gt;</span><br><span class="line">&lt;lat&gt;30.325141&lt;/lat&gt;</span><br><span class="line">&lt;lon&gt;120.172637&lt;/lon&gt;</span><br><span class="line">&lt;radius&gt;502&lt;/radius&gt;</span><br><span class="line">&lt;address&gt;浙江省杭州市下城区东新街道万家星城12幢;东文路与长浜路路口西111米&lt;/address&gt;</span><br><span class="line">&lt;/response&gt;</span><br></pre></td></tr></table></figure></p>
<p>这是我现在的位置附近。</p>
<h3 id="WIFI定位"><a href="#WIFI定位" class="headerlink" title="WIFI定位"></a>WIFI定位</h3><p>WiFi定位的原理大致是，因为每一个无线AP都有一个全球唯一的MAC地址，就是获取到WiFi的MAC地址然后去后台数据库去匹配(这个需要后台数据库足够强大，越强大匹配的越准)。<br>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--WiFi状态读取权限--&gt;</span><br><span class="line">&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;</span><br><span class="line"></span><br><span class="line">WifiManager wifiManager = (WifiManager) mContext.getSystemService(Context.WIFI_SERVICE);</span><br><span class="line">//获取当前连接的WiFi</span><br><span class="line">WifiInfo info = wifiManager .getConnectionInfo();</span><br></pre></td></tr></table></figure>
<p>info.getBSSID 即为mac地址。</p>
<h3 id="GPS定位"><a href="#GPS定位" class="headerlink" title="GPS定位"></a>GPS定位</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- GPS权限 --&gt;</span><br><span class="line">   &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;</span><br><span class="line">   &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;</span><br><span class="line">   &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</span><br></pre></td></tr></table></figure>
<p>代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">LocationManager locationManager = (LocationManager) mContext.getSystemService(Context.LOCATION_SERVICE);</span><br><span class="line">//获取所有可用的位置提供器</span><br><span class="line">List&lt;String&gt; providers = locationManager.getProviders(true);</span><br><span class="line">if (providers.contains(LocationManager.GPS_PROVIDER)) &#123;</span><br><span class="line">   //GPS定位</span><br><span class="line">  locationProvider = LocationManager.GPS_PROVIDER;</span><br><span class="line">  startRequestLocationUpdates(locationProvider, 0, 0);</span><br><span class="line">&#125; else if (providers.contains(LocationManager.NETWORK_PROVIDER)) &#123;</span><br><span class="line">  // Network定位</span><br><span class="line">  locationProvider = LocationManager.NETWORK_PROVIDER;</span><br><span class="line">  if (locationManager.getAllProviders().contains(LocationManager.NETWORK_PROVIDER) &amp;&amp;     </span><br><span class="line">    locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)) &#123;</span><br><span class="line">    startRequestLocationUpdates(locationProvider, 0, 0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  //没有可用的位置提供器，GPS定位失败</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">* 开始请求gps定位</span><br><span class="line">*</span><br><span class="line">* @param locationProvider 参数1，设备：有GPS_PROVIDER和NETWORK_PROVIDER两种，前者是GPS,后者是GPRS以及WIFI定位</span><br><span class="line">* @param minTime  位置信息更新周期.单位是毫秒</span><br><span class="line">* @param minDistance  位置变化最小距离：当位置距离变化超过此值时，将更新位置信息</span><br><span class="line">* 备注：参数2和3，如果参数3不为0，则以参数3为准；参数3为0，则通过时间来定时更新；两者为0，则随时刷新</span><br><span class="line">*/</span><br><span class="line"> private void startRequestLocationUpdates(String locationProvider, long minTime, float minDistance) &#123;</span><br><span class="line">     locationManager.requestLocationUpdates(locationProvider, minTime, minDistance, locationListener);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">//监听回调</span><br><span class="line">LocationListener locationListener = new LocationListener() &#123;</span><br><span class="line">           @Override</span><br><span class="line">           public void onLocationChanged(Location location) &#123;</span><br><span class="line">                //位置信息变化时触发，一旦触发这个回调就证明GPS定位成功，这个方法是一直都会回调的，在一定的时间内，需要设置一个超时，以免耗电。</span><br><span class="line">           &#125;</span><br><span class="line">           @Override</span><br><span class="line">            public void onStatusChanged(String provider, int status, Bundle extras) &#123;</span><br><span class="line">                switch (status) &#123;</span><br><span class="line">                    case LocationProvider.AVAILABLE:</span><br><span class="line">                       //当前GPS状态为可见状态</span><br><span class="line">                        break;</span><br><span class="line">                    case LocationProvider.OUT_OF_SERVICE:</span><br><span class="line">                       //当前GPS状态为服务区外状态</span><br><span class="line">                        break;</span><br><span class="line">                    case LocationProvider.TEMPORARILY_UNAVAILABLE:</span><br><span class="line">                        //当前GPS状态为暂停服务状态</span><br><span class="line">                        break;</span><br><span class="line">                    default:</span><br><span class="line">                        break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            @Override</span><br><span class="line">            public void onProviderEnabled(String provider) &#123;</span><br><span class="line">                //GPS开启时触发</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onProviderDisabled(String provider) &#123;</span><br><span class="line">               //GPS禁用时触发</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>thanks<br><a href="http://www.cellocation.com/" target="_blank" rel="noopener">LBS数据仓库</a><br><a href="https://blog.csdn.net/feiyue0823/article/details/9629459" target="_blank" rel="noopener">android 获取基站信息</a><br><a href="jianshu.com/p/deea88ea2594">BingoLis</a></p>

    </div>

    <div class="post-footer">
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2020/06/10/关于银行卡，你应该知道的事/" class="pre-post btn btn-default" title='关于银行卡，你应该知道的事'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">关于银行卡，你应该知道的事</span>
        </a>
    
    
        <a href="/2020/06/08/手把手解析8583报文/" class="next-post btn btn-default" title='手把手解析8583报文'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">手把手解析8583报文</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
<div id="lv-container" data-id="city" data-uid="MTAyMC8zNzEzNC8xMzY2OA">
  <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];
         if (typeof LivereTower === 'function') { return; }
         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;
         e.parentNode.insertBefore(j, e);
     })(document, 'script');
  </script>
</div>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<!--<a id="toc-btn">
    <i class="fa fa-bars"></i>
</a>-->

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2017
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



	<script src="/js/search.js?rev=@@hash"></script>


<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>