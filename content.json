{"meta":{"title":"JoinYon's Blog","subtitle":"一个会思考的机器人","description":null,"author":"JoinYon","url":"http://joinyon.top"},"pages":[{"title":"关于我","date":"2018-06-07T06:09:01.000Z","updated":"2018-09-25T08:22:37.551Z","comments":true,"path":"about/index.html","permalink":"http://joinyon.top/about/index.html","excerpt":"","text":"码农一枚，现居杭州。 座右铭 你是这个世界上独一无二的。 存在的就是合理的。 还没有第三条，等着我去发现。 交友宣言喜欢以茶会友，交朋友是拓展自己见闻的有效途径。 联系方式 关注我 新浪微博 GitHub coding.net 兴趣爱好我只是一个会coding的程序猿，我还有一些特殊爱好： 读书（微信读书，欢迎和我互相关注，点赞哦！） 写作（文笔不好，七八九流的，自我娱乐） 炒币（山寨币，虚拟币，梦想还是有的，说不定哪天财富自由了，偷笑。。。） 游泳（没有正规训练过，释放心情的好去处） 吃货（没有什么比美食诱人了）简历"},{"title":"工具","date":"2018-06-08T06:34:46.000Z","updated":"2018-06-08T06:36:23.319Z","comments":true,"path":"resources/index.html","permalink":"http://joinyon.top/resources/index.html","excerpt":"","text":""},{"title":"标签","date":"2018-06-07T05:41:48.000Z","updated":"2018-06-07T05:43:57.562Z","comments":true,"path":"tags/index.html","permalink":"http://joinyon.top/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2018-06-07T05:46:07.000Z","updated":"2018-06-07T05:47:48.514Z","comments":true,"path":"categories/index.html","permalink":"http://joinyon.top/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"关于Gson解析异常","slug":"关于Gson解析异常","date":"2019-06-21T02:24:57.000Z","updated":"2019-06-21T02:41:51.545Z","comments":true,"path":"2019/06/21/关于Gson解析异常/","link":"","permalink":"http://joinyon.top/2019/06/21/关于Gson解析异常/","excerpt":"","text":"报错信息1Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $ 报错原因 GsonConverterFactory使用时需要返回规范的JSON，而服务端没有按照标准返回。 解决办法12345678910111213141516static Retrofit getClient() &#123; Gson gson = new GsonBuilder() .setLenient() .create(); if (retrofit == null) &#123; retrofit = new Retrofit.Builder() .baseUrl(BASE_URL) .addConverterFactory(GsonConverterFactory.create(gson)) .build(); &#125; return retrofit;&#125;//GsonConverterFactory.create(gson)不使用默认的，使用带参数的。","categories":[],"tags":[],"keywords":[]},{"title":"adb命令大全","slug":"adb命令大全","date":"2019-06-12T08:28:31.000Z","updated":"2019-06-12T08:34:19.245Z","comments":true,"path":"2019/06/12/adb命令大全/","link":"","permalink":"http://joinyon.top/2019/06/12/adb命令大全/","excerpt":"","text":"","categories":[],"tags":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/tags/技术/"}],"keywords":[]},{"title":"日志","slug":"日志","date":"2019-06-10T11:58:57.000Z","updated":"2019-07-13T08:34:56.175Z","comments":true,"path":"2019/06/10/日志/","link":"","permalink":"http://joinyon.top/2019/06/10/日志/","excerpt":"","text":"六月10 星期一 A920扫码提示 device not licensed 同样的程序调用的扫码器不一样 CortexScan paxScanner 扫码预授权调试 跟踪天喻收单程序进度 跟踪核销模块开发进度 java基础03 11 星期二 核销业务梳理 MTMS客户端秘钥丢失问题解决并反馈给厂商,厂商会优化解决方案 A920扫码问题解决方案:多重启几次 12 星期三 培训知识巩固 核销开发进度跟踪 天喻瑞银信收单进度:开发版已出，明天测试功能 java基础分支语句查看 13 星期四 瑞银信新增终端 java循环语句 N910固件升级实践及操作文档编写 天喻瑞银信和丰付机器不能通用 14 星期五 启航的机器无法升级系统寄回 诚付的程序定制和轮播上线 考试计划 15 星期六 java方法 云音响的配置方法 启航机器升级系统回寄 E350非接版无法安装的问题(缺少了驱动) 大崃的QR68机器归还 16 星期日 递归算法 17 星期一 面向对象(一) 天喻瑞银信配置(贴牌的SN和代码获取的SN不一致) 何泽的加油站商户扫码闪退，更新程序后依然闪退，关机重启后解决。 合利宝撤销报25渠道没有记录 运营基础知识考核 运动18 星期二 天喻瑞银信SDK测试反馈 E350老版本机器程序不支持 核销问题解决19 星期三 N910走联动536渠道预授权借记卡要求输入密码，有些卡密码可以随便输入，有些卡需要输入正确的密码 灌机30台 联动SDK支持修改小票打印名称 打印重新绑定问题待解决 瑞银信问题反馈 1.消费撤销isOpenAdminVerify设为false依然出现输入管理员密码 2.预授权的时候报错，原因是响应报文不完整，没有流水号、卡号、时间、商户名称等参数。 3.不完整的参数导致后台报错调用方法过程中，出现错误，请重试或联系管理员，异常信息：Object 123天喻的响应报文 &#123;&quot;merchantNo&quot;:&quot;88733D048161867&quot;,&quot;transResult&quot;:&quot;00&quot;,&quot;transType&quot;:&quot;PRE_AUTHORIZATION&quot;, &quot;terminalNo&quot;:&quot;C7524363&quot;,&quot;orderId&quot;:&quot;9EB14B5EEA084771893F26BE76EE0B97&quot;&#125; 123456789101112A8 响应报文 &#123;&quot;orderId&quot;:&quot;591160C808DA4CF5915E539084D653A7&quot;,&quot;transType&quot;:&quot;PRE_AUTHORIZATION&quot;, &quot;transResult&quot;:&quot;00&quot;,&quot;transMoney&quot;:&quot;1&quot;,&quot;merchantNo&quot;:&quot;88733D048161867&quot;, &quot;terminalNo&quot;:&quot;C7738606&quot;,&quot;merchantName&quot;:&quot;浙江丰收收信息科技有限公司&quot;,&quot;operNo&quot;:&quot;&quot;, &quot;batchNo&quot;:&quot;000004&quot;,&quot;traceNo&quot;:&quot;100111&quot;,&quot;refNo&quot;:&quot;000351904839&quot;,&quot;authNo&quot;:&quot;547594&quot;, &quot;expDate&quot;:&quot;2612&quot;,&quot;cardNo&quot;:&quot;6230780100013423125&quot;,&quot;cardIssuerCode&quot;:&quot;03110000---&quot;, &quot;cardAcquirerCode&quot;:&quot;48873319&quot;,&quot;payWay&quot;:&quot;0004&quot;,&quot;cardInputType&quot;:&quot;2&quot;, &quot;date&quot;:&quot;0619&quot;,&quot;time&quot;:&quot;170735&quot;,&quot;forcePsw&quot;:&quot;true&quot;,&quot;forceSign&quot;:&quot;true&quot;,&quot;ARQC&quot;:&quot;F1C7D3382D918FB0&quot;,&quot;TVR&quot;:&quot;0000000000&quot;, &quot;AID&quot;:&quot;A000000333010101&quot;,&quot;TSI&quot;:&quot;0000&quot;,&quot;APPLAB&quot;:&quot;PBOC DEBIT&quot;,&quot;APPName&quot;:&quot;&quot;, &quot;UNPR_NUM&quot;:&quot;A9718936&quot;,&quot;AIP&quot;:&quot;7C00&quot;,&quot;IAD&quot;:&quot;07010103A00000010A010000000000F317899F&quot;, &quot;TermCap&quot;:&quot;E0F0C8&quot;&#125; 20 星期四 领券问题:1.重复出现绑定，2.付一次钱多个券的情况 卡券核销演示 小票客服电话定制 天喻机器测试反馈 丰付大讲堂 21 星期五 24 星期一 核销开发跟踪进度 瑞银信25 星期二 核销优化 合利宝预授权撤销金额不一致报13然后正常完成或撤销报25的问题反馈 瑞银信天喻机器跟踪 核销测试问题反馈 卡核销磁条卡问题 小票打印订单金额及二维码问题26 星期三 试题 卡核销非接读卡方式撤销，券核销使用扫码支付的在核销撤销的扫码撤销，出现打印中，不出小票，然后无法退回界面（核销类撤销都会出现此情况）。 卡核销插卡交易能出现活动显示，但是实际扣款金额不一致，应该是金额的单位有问题 卡核销磁条卡不显示活动，输入1元，实际扣款为100元，完成活动时提示参数不完整。 输入金额退格bug修复 27 星期四 核销磁条卡 1cno=4581230179533098&amp;pno=10006035&amp;price=100.00&amp;serialNo=000002&amp;storeNo=112330170110006&amp;tradeNo=000205&amp;key=wx732d107d84a6a118 IC卡1cno=6259588894275303&amp;pno=10006035&amp;price=100.00&amp;serialNo=000002&amp;storeNo=112330170110006&amp;tradeNo=000200&amp;key=wx732d107d84a6a118 配置核销活动，装机待批量测试。 试题已完成。 28 星期五 核销流程梳理 批量测试 瑞银信天喻SDK测试 结算之后第一笔交易签到后会一直正在请求 会闪退 消费进去不应有扫码，无刷卡模式。 29 星期六 联动优势渠道 - 536 W2 银联扫码无法撤销(商户已开通扫码)走私下退，联动bug 核销平台操作文档整理 七月1 星期一 核销交易测试 平台文档整理2 星期二 核销机器文档编写 银行活动添加、商户添加及测试。3 星期三 核销程序装机测试 核销平台培训4 星期四 年中会5 星期五 小票打印分的数据处理double类型 全单-活动基数，导致优惠金额不正确的问题。6 星期六 商户现场8 星期一 核销程序改版，只显示核销9 星期二 核销发布 扫码优化 升级问题，有交易的升级后交易查询闪退,报错:12345678907-09 18:28:02.477 22532-22532/? E/AndroidRuntime: FATAL EXCEPTION: main Process: com.newland.payment, PID: 22532 java.lang.NullPointerException: Attempt to invoke virtual method &apos;boolean java.lang.Boolean.booleanValue()&apos; on a null object reference at com.newland.payment.ui.fragment.TranceWaterListFragment$1.convert(TranceWaterListFragment.java:138) at com.newland.payment.ui.fragment.TranceWaterListFragment$1.convert(TranceWaterListFragment.java:128) at com.xiaoyue.widget.listview.CommonAdapter.getView(CommonAdapter.java:77) at android.widget.AbsListView.obtainView(AbsListView.java:2347) at android.widget.ListView.makeAndAddView(ListView.java:1864) at android.widget.ListView.fillDown(ListView.java:698) 10 星期三 瑞银信问题跟踪 瑞银信联迪版撤销测试 瑞银信SDK联迪版撤销功能开发 百富A920扫码退货 11 星期四 请假12 星期五 瑞银信A920程序问题 快支付联迪A8更新 瑞银信SDK联迪，扫码撤销，扫码退货，银行卡退货功能调试。 瑞银信银行卡退货报文1&quot;orderId&quot;:&quot;121231231&quot;,&quot;transType&quot;:&quot;SALE_RETURN&quot;,&quot;transResult&quot;:&quot;00&quot;,&quot;transName&quot;:&quot;退货&quot;,&quot;transMoney&quot;:&quot;1&quot;,&quot;merchantNo&quot;:&quot;88733D048161867&quot;,&quot;terminalNo&quot;:&quot;C7738606&quot;,&quot;merchantName&quot;:&quot;浙江丰收收信息科技有限公司&quot;,&quot;operNo&quot;:&quot;01&quot;,&quot;batchNo&quot;:&quot;000004&quot;,&quot;traceNo&quot;:&quot;100071&quot;,&quot;refNo&quot;:&quot;000418529887&quot;,&quot;expDate&quot;:&quot;2412&quot;,&quot;cardNo&quot;:&quot;6259588894275303&quot;,&quot;cardIssuerCode&quot;:&quot;03100000---&quot;,&quot;cardAcquirerCode&quot;:&quot;48873319&quot;,&quot;payWay&quot;:&quot;0004&quot;,&quot;cardInputType&quot;:&quot;2&quot;,&quot;date&quot;:&quot;0712&quot;,&quot;time&quot;:&quot;181759&quot;,&quot;forcePsw&quot;:&quot;false&quot;,&quot;forceSign&quot;:&quot;false&quot;,&quot;imageData&quot;:&quot;Qk……&quot;&#125; 13 星期六 A8撤销+整体测试，刷卡退货会崩溃，扫码退货报IF交易失败","categories":[],"tags":[{"name":"工作","slug":"工作","permalink":"http://joinyon.top/tags/工作/"}],"keywords":[]},{"title":"Java基础知识汇总","slug":"Java基础知识汇总","date":"2019-02-18T01:21:24.000Z","updated":"2019-07-10T02:52:57.805Z","comments":true,"path":"2019/02/18/Java基础知识汇总/","link":"","permalink":"http://joinyon.top/2019/02/18/Java基础知识汇总/","excerpt":"","text":"java基础项目一、Java环境搭建 基础知识 JAVA环境的搭建 Hello World 小程序 二、JAVA基本语法 重点掌握关键字、标识符 了解常量、进制转换 重点掌握变量、数据类型、类型转换。 重点掌握运算符、转义字符 运算符优先级 三、分支语句 JAVA语句有哪些结构 掌握分支结构 掌握if语句的用法 掌握switch语句的用法 四、循环语句 什么是循环语句 掌握for循环 掌握while循环 掌握do-while循环 掌握break语句 掌握continue语句 五、方法的使用 什么是方法 掌握方法的声明 掌握方法的调用 掌握什么是方法重载 了解递归算法 六、面向对象(一) 重点掌握面向对象设计思想 重点掌握类和对象的理解 重点掌握如何创建一个对象 重点掌握JAVA类中的成员变量和方法 重点掌握构造方法 重点掌握类的封装性 七、面向对象(二) 重点掌握内存分析 重点掌握this关键字 重点掌握方法的参数传递 重点掌握static关键字 重点掌握包 画内存分析图 八、面向对象(三) 重点掌握继承 重点掌握super关键字 重点掌握访问权限 重点掌握方法重写 九、面向对象(四) 重点掌握Object类 重点掌握对象转型 重点掌握抽象类和抽象方法 重点掌握final关键字 重点掌握接口 十、面向对象(五) 重点掌握多态 重点掌握内部类 重点掌握单例模式 重点掌握简单工厂模式 掌握内部类的应用场景 了解接口回调的原理 十一、数组 掌握JAVA中数组概念 掌握JAVA 中一维数组的声明和使用 掌握JAVA 中数组的排序：冒泡，插入，选择 掌握JAVA中数组的搜索：顺序，二分搜索法 十二、二维数组和异常机制 掌握JAVA中二维数组的简单使用 掌握JAVA中数组的工具类Arrays，System类 掌握JAVA中的异常机制 掌握JAVA中异常的处理 了解JAVA中自定义异常 十三、常用类 掌握JAVA基本数据类型与其对应的包装类 掌握JAVA字符串类：String,StringBuffer,StringBuilder 了解JAVA中常用的类：Math, Date,Calendar,SimpleDateFormat 了解JAVA中常用类：Random，Runtime，System 了解正则表达式的简单实用 了解什么是枚举 十四、集合类-List 掌握JAVA中集合的概念以及集合框架的介绍 掌握Collection接口的使用 掌握List接口的存储特点 掌握集合中泛型的使用 掌握迭代器Iterator的工作原理以及使用 掌握List接口的常用实现类，ArrayList以及LinkedList的实现方式以及存储特点 了解Vector以及Stack的使用 十五、集合类-Set 掌握Set集合的存储特点 掌握TreeSet的实现原理 掌握Comparable接口的使用 掌握Comparator接口的使用 了解LinkedHashSet实现类 十六、Map集合 了解Map集合的特点 掌握Map集合的常用方法 掌握获取集合对象的几种方式 掌握Map集合的常用类:HashMap和TreeMap 十七、IO流(一) 掌握File类和常用方法 掌握IO流的概念和原理 了解IO流的分类 掌握字节流的常用方法 掌握字符流的常用方法 掌握文件流 十八、IO流(二) 掌握转换流 掌握字节缓存流和字符缓存流 了解标准输入输出流:System.in和System.out 十九、IO流(三) 掌握内存流的使用 了解打印流的使用 掌握对象序列化 了解对象流 掌握RandomAccessFile 了解装饰者模式 二十、总结二十一、多线程-初步 掌握JAVA中进程的概念 掌握JAVA中线程的概念 掌握线程的创建方式 掌握线程的优先级 掌握线程的常用方法 掌握线程的生命周期 掌握线程的停止 二十二、多线程-数据安全 掌握JAVA中多线程间的数据安全 掌握synchronized关键字 掌握同步方法 掌握同步代码块 掌握互斥锁 了解死锁 了解ThreadLocal类 二十三、多线程-生产者消费者模型 掌握生产者消费者模型 掌握线程等待 掌握线程唤醒 了解守护线程 二十四、网络编程-TCP 了解网络的概念 了解网络通信协议 了解TCP/IP协议 了解IP地址和端口号 掌握Socket 掌握ServerSocket 二十五、网络编程-UDP 了解UDP编程 飞秋练习：多客户端聊天，多线程下载 二十六、HTML&amp;SQLite 掌握HTML的表格，表单，列表标签 了解HTML样式的使用：CSS 掌握SQLite数据库 了解create创建表语句 了解alter修改表结构语句 重点掌握SQL增删改查语句 二十七、Servlet&amp;网络访问 了解B/S和C/S结构 Tomcat的作用 掌握Servlet的生命周期 掌握Servlet的应用 掌握URL类和常用方法 掌握HttpURLConnection类获取网络资源 二十八、HttpClient 了解HttpClient类 了解HttpClient与HttpURLConnection的区别 掌握HttpClient的get请求获取资源 掌握HttpClient的post请求获取资源 掌握接口回调在网络下载中的使用 掌握HttpClient接口回调方式下载网络资源 掌握文件上传的客户端实现 二十九、XML解析(SAX&amp;PULL) 了解XML 掌握XML语法定义 掌握SAX解析原理 掌握PULL解析原理 三十、反射机制&amp; JSON解析 了解反射的使用 了解JSON数据格式 了解JSON与XML之间的比较 掌握JSON解析","categories":[],"tags":[],"keywords":[]},{"title":"ISO8583","slug":"ISO8583","date":"2018-12-22T08:17:03.000Z","updated":"2019-02-22T06:30:29.885Z","comments":true,"path":"2018/12/22/ISO8583/","link":"","permalink":"http://joinyon.top/2018/12/22/ISO8583/","excerpt":"","text":"支付小常识银联终端规范","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"知识点","slug":"知识点","permalink":"http://joinyon.top/tags/知识点/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"AppBarLayout+CollapsingToolBarLayout+Tablayout+ViewPager使用遇到的问题及解决方案","slug":"AppBarLayout-CollapsingToolBarLayout-Tablayout-ViewPager使用遇到的问题及解决方案","date":"2018-11-18T02:27:37.000Z","updated":"2018-11-20T09:51:19.084Z","comments":true,"path":"2018/11/18/AppBarLayout-CollapsingToolBarLayout-Tablayout-ViewPager使用遇到的问题及解决方案/","link":"","permalink":"http://joinyon.top/2018/11/18/AppBarLayout-CollapsingToolBarLayout-Tablayout-ViewPager使用遇到的问题及解决方案/","excerpt":"","text":"###","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"基础","slug":"基础","permalink":"http://joinyon.top/tags/基础/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"Android项目打包过程","slug":"Android项目打包过程","date":"2018-11-15T01:08:34.000Z","updated":"2018-11-15T01:08:34.806Z","comments":true,"path":"2018/11/15/Android项目打包过程/","link":"","permalink":"http://joinyon.top/2018/11/15/Android项目打包过程/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"SVN使用","slug":"SVN使用","date":"2018-10-15T09:03:01.000Z","updated":"2018-10-16T09:00:12.541Z","comments":true,"path":"2018/10/15/SVN使用/","link":"","permalink":"http://joinyon.top/2018/10/15/SVN使用/","excerpt":"","text":"前言最近做项目是要和同事协作开发的，于是想到使用svn平时都是一个人开发，使用git,由于项目是托管在svn服务器的，所以了解了一下，拉代码一气呵成，当提及时糟糕了各种冲突，解决不了，只好使用最笨的方式，拷贝代码，于是乎，我想一定要学会使用svn 查看电脑有没有装svn要使用svn必须先安装,mac平台下检测方法：打开终端,输入如下命令:1svn -version 如果已经安装了svn，那么终端控制台会出现如下所示:12svn: invalid option character: eType &apos;svn help&apos; for usage. 如果没有安装,则显示:1command not found 使用 可以使用客户端 可以使用命令 貌似习惯于命令 多多学习，多多益善 AS使用svn添加忽略文件一般要忽略的文件如下： .idea文件夹 .gradle文件夹 所有的build文件夹 所有的.iml文件 local.properties文件 注意 当文件夹已经被添加到svn版本控制仓库中时，添加忽略是无效的解决办法:使用svn清除文件夹的添加状态 实践 码云SVN支持 使用SVN将代码托管到码云 SVN常用命令","categories":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}],"tags":[{"name":"svn","slug":"svn","permalink":"http://joinyon.top/tags/svn/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}]},{"title":"Android 屏幕适配浅谈","slug":"Android-屏幕适配浅谈","date":"2018-10-08T09:39:12.000Z","updated":"2018-10-08T09:40:24.719Z","comments":true,"path":"2018/10/08/Android-屏幕适配浅谈/","link":"","permalink":"http://joinyon.top/2018/10/08/Android-屏幕适配浅谈/","excerpt":"","text":"","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"差缺补漏","slug":"差缺补漏","permalink":"http://joinyon.top/tags/差缺补漏/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"Android百度推送遇到的坑","slug":"Android百度推送遇到的坑","date":"2018-09-17T14:53:29.000Z","updated":"2018-09-21T03:20:02.074Z","comments":true,"path":"2018/09/17/Android百度推送遇到的坑/","link":"","permalink":"http://joinyon.top/2018/09/17/Android百度推送遇到的坑/","excerpt":"","text":"集成流程：参考这里 问题：在控制台发送通知，透传消息都能接收的到，但是服务器推送的收不到，why？","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"框架","slug":"框架","permalink":"http://joinyon.top/tags/框架/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"AndroidStudio 多渠道打包","slug":"AndroidStudio-多渠道打包","date":"2018-09-14T09:39:24.000Z","updated":"2018-09-14T09:44:36.258Z","comments":true,"path":"2018/09/14/AndroidStudio-多渠道打包/","link":"","permalink":"http://joinyon.top/2018/09/14/AndroidStudio-多渠道打包/","excerpt":"","text":"多渠道打包一般应用于向不同的应用市场提交app后用来统计不同渠道下载量等一些信息的。 一般集成友盟的sdk,不同的SDK集成方式大同小异。看看原文","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"知识点","slug":"知识点","permalink":"http://joinyon.top/tags/知识点/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"使用云信实现聊天功能","slug":"使用云信实现聊天功能","date":"2018-09-10T06:57:11.000Z","updated":"2018-09-26T02:01:50.971Z","comments":true,"path":"2018/09/10/使用云信实现聊天功能/","link":"","permalink":"http://joinyon.top/2018/09/10/使用云信实现聊天功能/","excerpt":"","text":"查看 逻辑结构：12345678910111213141516171819202122232425262728MainActivity |- HomeFragment |-&gt;MainTab(导航栏) |-SessionListFragment |-RecentContactsFragment |-NimUIKit |-P2PMessageActivity |-Toolbar |-Title(聊天对象名称) |-SubTitle（聊天对象在线状态: 电脑、手机-wifi、移动网络） |-Observer&lt;CustomNotification&gt;: 命令消息接收观察者 |-ContactChangedObserver: UIKit 与 app 好友关系变化监听接口 |-UserInfoObserver: |-OnlineStateChangeObserver:在线状态观察者 |-MessageFragment |-InputPanel:底部文本编辑，语音等模块 |- |- |-TeamMessageActivity |-TeamMessageFragment |-ContactListFragment |-FuncItem:功能区 |-ContactsFragment:通讯录Fragment |-ChatRoomListFragment 相关类继承结构123456789101112131415161718192021222324252627282930313233343536373839UI 相关:View |-SwitchButton:仿iphone 开关按钮 |-LetterIndexView:字母索引选择的ViewImageView |-CircleImageView |-HeadImageViewActivity:AppCompatActivity |-UI(Abs) |-BaseMessageActivity(Abs) |-P2PMessageActivity |-TeamMessageActivityFragment:Fragment |—TFragment |-ChatRoomListFragment（直播间列表） |-TabFragment(Abs) |-ChatRoomTabFragment(Abs) |-MainTabFragment(Abs) |-ChatRoomListFragment(聊天室主TAB页) |-ContactListFragment(集成通讯录列表) |-SessionListFragment(会话列表) |-AckMsgTabFragment(Abs) |-MasterFragment（聊天室主播） |-OnlinePeopleFragment（在线人数） |-RecentContactsFragment(最近联系人列表) |-MessageFragment(聊天界面基类) 源码解析 监听对方输入状态的功能 当输入内容发生变化时显示吐司：对方正在输入中。 监听Ait输入，当输入内容有@符号时显示要Ait的群成员对象。 AitManager 该类实现了TextWatcher 接口","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"框架","slug":"框架","permalink":"http://joinyon.top/tags/框架/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"百度语音合成集成","slug":"百度语音合成集成","date":"2018-09-05T02:28:24.000Z","updated":"2018-09-05T06:11:14.942Z","comments":true,"path":"2018/09/05/百度语音合成集成/","link":"","permalink":"http://joinyon.top/2018/09/05/百度语音合成集成/","excerpt":"","text":"集成准备1 在百度语音的控制台创建一个应用，输入应用的名称、包名等信息。2 进入应用会看到SDK下，选择离在线融合SDK。3 下载解压时一个安卓示例项目，运行打开可以查看逻辑代码。4 将app-lib下的jar包拷贝到自己的项目的app-lib下，然后鼠标右键添加到自己项目的库中。5 将app-src-main下的jniLibs整个文件夹拷贝到自己项目的对应位置，如果自己的项目有了该文件夹，就将jniLibs文件夹下各个文件夹中so库分别复制到对应的文件夹。6 将app-src下的assets文件拷贝到自己项目对应位置，如果自己的项目有了该文件夹，就将assets文件夹下所有文件拷贝到对应文件夹。7 将app-src下的control、listener、util文件夹拷贝到项目中，MainHandlerConstant.Java文件拷贝到项目中。 AndroidMainfest.xml123456789//添加以下权限 &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt; 官方文档Demo示例","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"框架","slug":"框架","permalink":"http://joinyon.top/tags/框架/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"安卓富文本编辑器开发实践","slug":"安卓富文本编辑器开发实践","date":"2018-08-07T07:31:59.000Z","updated":"2018-09-05T06:11:29.202Z","comments":true,"path":"2018/08/07/安卓富文本编辑器开发实践/","link":"","permalink":"http://joinyon.top/2018/08/07/安卓富文本编辑器开发实践/","excerpt":"","text":"项目结构： assets文件夹下 ZSSRichTextEditor.js文件 editor.css文件 android-editor.html文件（编辑器界面） editor-android.css editor-utils.js editor-utils-formatter.js example example-content.html(示例文件这里可以写一些HTML展示出来) 图片文件（演示加载本地图片） fonts(字体文件资源，改变字体) libs（js类库,可以抽空看边查边看） svg（矢量图) Android目录(经本人整理过) activity EditorExampleActivity MyEditActivity editor JsCallbackReceiver inter EditorMediaUploadListener OnImeBackListener OnJsEditorStateChangedListener legacy EditLinkActivity WPEditImageSpan utils HtmlStyleUtils MyFontColor Utils view EditorFragment EditorFragmentAbstract ImageSettingDialogFragment LegacyEditorFragment MyEditorFragment widget EditorWebView EditorWebViewAbstract EditorWebViewCompatibility HtmlStyleTextWatcher LinkDialogFragment RippleToggleButton SourceViewEditText 项目说明本项目是基于WordPressEditor开发的，目的是用于公司项目中的需求，公司项目需要富文本编辑器，支持图文混排，并生成相应的HTML代码，以便展示在网络中，同时需要支持IOS和安卓编辑，故找到此项目，感谢项目的开发者。 功能 支持HTML代码查看与效果实时预览。 支持链接功能 图片、视频等文件上传及查看 引用功能 有序无序列表 字体粗细、斜体。 下划线，中穿线，上角标、小角标等（可扩展，调用ZSSRichTextEditor.js的方法） 字体大小 对齐方式 颜色（可跟自己需求定义） 还有更多功能待发现 源码解析分析EditorWebViewAbstract支持js回调的webView 点击这里了解更多","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"框架","slug":"框架","permalink":"http://joinyon.top/tags/框架/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"Mac快捷键使用技巧","slug":"Mac快捷键使用技巧","date":"2018-07-06T09:52:36.000Z","updated":"2018-10-17T10:21:41.332Z","comments":true,"path":"2018/07/06/Mac快捷键使用技巧/","link":"","permalink":"http://joinyon.top/2018/07/06/Mac快捷键使用技巧/","excerpt":"","text":"快捷键 查看隐藏文件: shift+command+. 终端命令 返回用户主目录 1echo $HOME 打开文件 1open *** 显示当前目录的路径名 1pwd 进入用户主目录 1cd 或者 cd~ 返回上级目录 1cd .. 返回上两级目录 1cd ../.. mac下adb通常在第一次使用Android SDK中的adb无法使用，有以下提示：1bash: android: command not found 原因：未配置Android的环境变量，so需要为mac中的Android SDK配置环境变量。注意：以下操作可以在Mac自带的终端Terminal，也可以在Android Studio中操作 启动终端 进入当前用户的home目录，在命令行输入： 1echo $HOME 创建.bash_profile文件(如果有则不用重新创建了直接进行下一步，查看的方法是显示隐藏文件)执行命令: 1touch .bash_profile 打开 .bash_profile文件： 1open -e .bash_profile 执行后会自动弹出.bash_profile文件的编辑窗口。如果配置过其他的环境变量应该有内容的，比如我的： export M2_HOME=/Users/zhangjunyang/tools/maven/apache-maven-3.5.0 export PATH=$PATH:$M2_HOME/bin export MYSQL_HOME=/usr/local/mysql export PATH=$PATH:$MYSQL_HOME/bin 在.bash_profile 文件中输入： export PATH=/Users/您的用户名/文件路径/platform-tools/:$PATH注意 如果需要添加多个路径到PATH下时，需要用“:”(英文的冒号)隔开。因为android和adb这些命令是在不同的文件夹中的，格式是：PATH=${PATH}:路径1:路径2、另外，如果指定多个路径，结尾就不用写:$PATH了。例如：export PATH=${PATH}:/Users/zhangjunyang/Library/Android/sdk/platform-tools:/Users/zhangjunyang/Library/Android/sdk/tools","categories":[{"name":"工具","slug":"工具","permalink":"http://joinyon.top/categories/工具/"}],"tags":[{"name":"小技巧","slug":"小技巧","permalink":"http://joinyon.top/tags/小技巧/"}],"keywords":[{"name":"工具","slug":"工具","permalink":"http://joinyon.top/categories/工具/"}]},{"title":"MVP+Dagger2架构+RxJava+Retrofit+OkHttp框架方式一","slug":"MVP-Dagger2架构-RxJava-Retrofit-OkHttp框架方式一","date":"2018-06-29T03:04:38.000Z","updated":"2018-06-29T06:24:00.394Z","comments":true,"path":"2018/06/29/MVP-Dagger2架构-RxJava-Retrofit-OkHttp框架方式一/","link":"","permalink":"http://joinyon.top/2018/06/29/MVP-Dagger2架构-RxJava-Retrofit-OkHttp框架方式一/","excerpt":"","text":"MVP架构介绍目前，Android APP开发最火的架构是MVP，便于产品的更新迭代，为更好理解MVP架构，现对开发中使用的MVP进行总结： Model 对外提供业务数据API 内部实现本地数据，网络数据的存取的等 只有Presenter可以访问，与View隔离 Presenter 持有View对象，对View进行操作 持有Model层提供数据接口对象，可通过依赖注入解耦此部分 从数据接口对象中获取数据并处理，更新View View UI层，包含所有UI相关组件 持有对应的Presenter的对象，可通过依赖注入解耦此部分 由Presenter来负责更新UI 项目结构图如下所示","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"框架","slug":"框架","permalink":"http://joinyon.top/tags/框架/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"AndroidStudio快捷键及使用技巧","slug":"“AndroidStudio快捷键及使用技巧”","date":"2018-06-27T02:24:30.000Z","updated":"2018-12-13T15:04:24.868Z","comments":true,"path":"2018/06/27/“AndroidStudio快捷键及使用技巧”/","link":"","permalink":"http://joinyon.top/2018/06/27/“AndroidStudio快捷键及使用技巧”/","excerpt":"","text":"自动导包，自动删除没有调用的包：打开AndroidStudio界面之后：依次点击 File –&gt; setting –&gt; Editor –&gt; General –&gt;Auto import 当前类/方法被引用的位置查找： 先光标定位到方法或者类 右键选择Find Usages（快捷键 mac:fn+option+F7 win:ctrl+g） 全局搜索 Edit-&gt;find-&gt;find in path 快捷键 shift+command+Fd 查找一个文件的引用fn+option+F7","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"小技巧","slug":"小技巧","permalink":"http://joinyon.top/tags/小技巧/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"学习导航123","slug":"学习导航123","date":"2018-06-23T10:05:05.000Z","updated":"2019-07-09T03:31:42.323Z","comments":true,"path":"2018/06/23/学习导航123/","link":"","permalink":"http://joinyon.top/2018/06/23/学习导航123/","excerpt":"","text":"一个很好的源码解析网站极客导航","categories":[],"tags":[],"keywords":[]},{"title":"区块链开源项目介绍","slug":"区块链开源项目介绍","date":"2018-06-21T11:25:03.000Z","updated":"2018-06-22T06:43:26.373Z","comments":true,"path":"2018/06/21/区块链开源项目介绍/","link":"","permalink":"http://joinyon.top/2018/06/21/区块链开源项目介绍/","excerpt":"","text":"ContentBox组织GitHub BLK.IOgitHub Java版的web3jweb3jweb3j文档","categories":[{"name":"区块链","slug":"区块链","permalink":"http://joinyon.top/categories/区块链/"}],"tags":[{"name":"区块链技术","slug":"区块链技术","permalink":"http://joinyon.top/tags/区块链技术/"}],"keywords":[{"name":"区块链","slug":"区块链","permalink":"http://joinyon.top/categories/区块链/"}]},{"title":"通知总结","slug":"通知总结","date":"2018-06-20T07:46:52.000Z","updated":"2018-06-28T01:29:26.483Z","comments":true,"path":"2018/06/20/通知总结/","link":"","permalink":"http://joinyon.top/2018/06/20/通知总结/","excerpt":"","text":"通知原文 通知系统使得用户得知应用中重要的事情，例如有新信息到来或者日历事件提醒。将通知作为一个新的通道，提醒用户重要的事情或者记录下用户没有注意到的事情。 通知的作用 显示接收到的短消息、即时消息等信息（短信、微信、微博） 显示客户端推送的重要消息（如广告、订阅推荐、新版本发布等） 显示正在进行的程序（如：电影下载进度、音乐播放器、后台运行的程序等） 使用步骤 获取NotificationManager 实例管理通知； 实例Notification 对象； 关联事件Intent； 发送通知； 通知的分类常见的通知有很多，这里以具体实例学习巩固通知的使用过程。 1. 普通通知 获取NotificationManager实例：Notification对通知进行管理，调用Context的getSystemService()方法获取。 1NotificationManager manager=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE); 实例Notification对象： 1Notification notification=new Notification.Builder(Context).build(); 此时只是创建了一个空的Notification对象，并没有实际的作用，可以在build()方法之前使用连缀任意多的方法设置Notification对象。如下是进行一些基本的设置1234567Notification notification=new NotificationCompat.Builder(Context).setContentText(\"通知内容\").setContentTitle(\"通知标题\").setSmallIcon(R.mipmap.ic_luncher).setLageIcon(BitmapFactory.decodeResource(getResources(),R.drawable.ic_luncher)).setWen(System.currentTimeMillis()).build(); 以上设置了五个方法： setSmallIcon()用于设置通知的小图标，只能使用纯alpha图层的图片进行设置，小图标会显示在系统状态栏上。（alpha图层的图片可以找UI要）setLargeIcon()设置通知的大图标，当拉下通知后显示的图标。setWhen()指定通知被创建的时间，以毫秒为单位。 关联事件Intent 如果没有关联Intent也是可以的，只是点击的时候没有任何效果，如果在用户点击到时候会跳转到我们指定的页面，那么需要添加一个Intent，此时会用到 PendingIntent ,PendingIntent的获取可以根据需求选择 getActivity(),getBroadcast(),getService()等静态方法 12345Intent intent=new Intent(Intent.ACTION_VIEW,Uri.parse(\"http://joinyon.top\"));PendingInent pendingIntent=PendingIntent.getActivity(this,0,intent,0);Notification notification=new NotificationCompat.Builder(this).setContentIntent(pendingIntent).build(); 调用 setContentIntent()方法，传入PendingIntent实例即可，当点击时会打开浏览器进入我的个人博客主页。我们可以继续完善Notification 12345678Notification notification=new NotificationCompat.Builder(this)....setAutoCancel(true);点击通知头自动取消 .setSound(Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.raw.iphone_ringtone))// 声音 //.setLights()// LED //.setVibrate()// 震动 //.setDefaults(NotificationCompat.DEFAULT_ALL)//设置铃声及震动效果 .build(); 注意： 控制手机震动需要加入以下权限1&lt;user-permission android:name=\"android.permission.VIBRATE\"/&gt; 2. 悬挂式通知使用步骤和普通一样，不同的是在调用 .build()之前设置.setFullScreenIntent()方法12345678NotificationCompat.Builder builder=new Notification.Builder(this);Notification notification=builder.setSmallIcon(m.mipmap.ic_launcher_round).setPriority(Notification.PRIORITY_DEFAULT)// 通知的优先级.setCategory(Notification.CATEGORY_MESSAGE)// 通知的类型.setContentTitle(\"悬挂式通知\").setAutoCancel(true)....build(); NOTICEsetPriority()方法共有5个等级： PRIORITY_MIN -最低级别(-2); PRIORITY_LOW -较低级别(-1); PRIORITY_DEFAULT -默认级别(0); PRIORITY_HIGH -较高级别(1); PRIORITY_MAX -最高级别(2); 当发出此类型的通知时，通知会以悬挂的方式显示在屏幕上。 3. 折叠式通知折叠式通知需要借助RemoteViews来实现1234567891011121314151617181920212223242526// 第一步 获取NotificationManager实例 NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://joinyon.top/\")); PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0); //设置未下拉的样式R.layout.collapsed RemoteViews collapsed = new RemoteViews(getPackageName(), R.layout.collapsed); collapsed.setTextViewText(R.id.collapsed_text, \"关闭状态\"); //设置下拉后的样式TR.layout.show RemoteViews show = new RemoteViews(getPackageName(), R.layout.show); // 第二步 实例Notification对象 NotificationCompat.Builder builder = new NotificationCompat.Builder(this, \"0\"); Notification notification = builder.setAutoCancel(true) .setSmallIcon(R.mipmap.ic_launcher_round) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher)) .setContentIntent(pendingIntent) .setContentText(\"JoinYon's Blog\") //第三步 .setCustomContentView(collapsed) .setCustomBigContentView(show) .setDefaults(NotificationCompat.DEFAULT_ALL)//设置铃声及震动效果 .build(); //第四步 发送通知 notificationManager.notify(0, notification); 4. 锁屏通知Android 5.0(API level21)开始，通知可以显示在锁屏上，通过设置选择是否允许敏感的通知内容显示在安全的锁屏上。1234//通过设置setVisibility()方法设置即可....setVisibility(VISIBILITY_PUBLIC).build(); setVisibility()方法共有三个选值： VISIBILITY_PRIVATE:显示基本信息，如通知的图标，但隐藏通知的全部内容 VISIBILITY_PUBLIC:显示通知的全部内容 VISIBILITY_SECRET:不显示任何内容，包括图标。 未完待续。。。","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"差缺补漏","slug":"差缺补漏","permalink":"http://joinyon.top/tags/差缺补漏/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"Android图片长按保存实践","slug":"Android图片长按保存实践","date":"2018-06-14T03:37:18.000Z","updated":"2018-06-14T03:37:18.212Z","comments":true,"path":"2018/06/14/Android图片长按保存实践/","link":"","permalink":"http://joinyon.top/2018/06/14/Android图片长按保存实践/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"git常用命令","slug":"git常用命令","date":"2018-06-11T09:03:01.000Z","updated":"2018-12-27T04:41:21.956Z","comments":true,"path":"2018/06/11/git常用命令/","link":"","permalink":"http://joinyon.top/2018/06/11/git常用命令/","excerpt":"","text":"1. 使用git向远程仓库提交代码添加完SSH key成功之后，我们就有权限向GitHub上我们自己的项目提交代码了，接下来介绍一下提交代码的两种方法： 方法一：clone远程仓库 在GitHub上创建一个项目如：AndroidGuide 并添加README.md文件。 终端cd到某文件夹下，执行一下命令: 1git clone git@github.com:MrRobotter/AndroidGuide.git 这样就把AndroidGuide项目 clone 到了本地，我们可以把 clone 命令理解为高级点的复制,这个时候该项目本身就是一个git仓库了，不需要再执行 git init 进行初始，而且甚至已经关联好了远程仓库，我们只需要在AndroidGuide目录下任意修改或者添加文件，然后进行commit 之后可以执行： 1git push origin master 进行代码提交。 方法二：关联本地已有项目如果我们在本地完成了一个完整的项目test1 这样方法一就不适合了。 在GitHub上建一个test项目， 在终端上cd到项目所在文件夹 接下来执行以下命令： 123git init //初始化版本库git add .//添加文件到版本库（只是添加到了缓存区）, `.` 代表添加文件夹下所有文件git commit -m &quot;提交说明&quot; //把添加的文件提交到版本库，并填写提交备注。 到这一步我们完成了代码库的初始化，但代码仅仅是本地，没有提交到服务器，如果要提交到远程的test则进行一下步骤： 123git remote add origin git@github.com:MrRobotter/test.git //把本地仓库与远程仓库关联git push -u origin master //第一次推送时git push origin master //之后提交 注意在GitHub上创建test一般会选择创建README.md文件，这时候直接使用git push -u origin master会出现以下提示： ! [rejected] master -&gt; master (non-fast-forward) error: failed to push some refs to &#39;git@github.com:MrRobotter/AndroidGuide.git’ hint: Updates were rejected because the tip of your current branch is behind hint: its remote counterpart. Integrate the remote changes (e.g. hint: ‘git pull …’) before pushing again. hint: See the ‘Note about fast-forwards’ in ‘git push –help’ for details. 什么意思呢？是说你远程仓库中有文件没有下载下来。那明白了于是执行命令:1git pull origin master 这时候又出差了： fatal: refusing to merge unrelated histories WTF 怎么回事？查了资料才知道git在2.9.2版本里 认为他们是两个不同的项目，要把两个不同的项目合并需要使用命令：1git pull origin master --allow-unrelated-histories 这样就可以pull成功了。接下来，依次执行1234git add ** //你刚刚拉下来的新文件git commit -m &quot;合并&quot;git push -u origin master //第一次推送时git push origin master //之后提交 这样就解决了。 2. git命令删除远程分支先查看 远程分支1git branch -r 使用以下命令删除远程分支：123git branch -r -d origin/branch-namegit push origin :branch-name 3. git命令删除本地分支1git branch -d develop(replace your branch-name) Android Studio 中.gitignore配置 问题描述 在使用Git进行代码管理过程中，我们会发现后来添加的.gitignore文件，或者中途修改了.gitignore文件后，.gitignore文件并没有生效，需要清除.track缓存和强制.track来解决问题。如果我们在第一次提交的时候，忘记添加.gitignore文件或者在首次添加了.gitignore文件之后，又对文件进行了修改，你会发现这两种情况下，.gitignore文件是不生效的。 原因 git 没有清理cache重点内容 解决方案123git rm -r --cached .git add .git commit -m &quot;commit message&quot; 更多请参考git","categories":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}],"tags":[{"name":"git","slug":"git","permalink":"http://joinyon.top/tags/git/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}]},{"title":"AndroidStudio常见编译错误及解决方案","slug":"AndroidStudio常见编译错误及解决方案","date":"2018-06-11T07:54:27.000Z","updated":"2018-09-05T06:05:44.769Z","comments":true,"path":"2018/06/11/AndroidStudio常见编译错误及解决方案/","link":"","permalink":"http://joinyon.top/2018/06/11/AndroidStudio常见编译错误及解决方案/","excerpt":"","text":"问题简介平时运行AndroidStudio编译器，会发生如下错误： Error:Execution failed for task &apos;:app:preDebugAndroidTestBuild&apos;. &gt; Conflict with dependency &apos;com.android.support:support-annotations&apos; in project &apos;:app&apos;. Resolved versions for app (26.1.0) and test app (27.1.1) differ. See https://d.android.com/r/tools/test-apk-dependency-conflicts.html for details. 发生这类问题的原因是：当我们修改了.build 中的 compileSdkVersion，产生所依赖的dependency与当前版本不一样导致的。 解决build-&gt;Rebuild Project","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"Exception","slug":"Exception","permalink":"http://joinyon.top/tags/Exception/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"比特币简介","slug":"比特币简介","date":"2018-06-11T02:29:54.000Z","updated":"2018-06-11T07:08:46.228Z","comments":true,"path":"2018/06/11/比特币简介/","link":"","permalink":"http://joinyon.top/2018/06/11/比特币简介/","excerpt":"","text":"什么是比特币?","categories":[{"name":"区块链","slug":"区块链","permalink":"http://joinyon.top/categories/区块链/"}],"tags":[{"name":"比特币","slug":"比特币","permalink":"http://joinyon.top/tags/比特币/"}],"keywords":[{"name":"区块链","slug":"区块链","permalink":"http://joinyon.top/categories/区块链/"}]},{"title":"GradleForAndroid","slug":"GradleForAndroid","date":"2018-06-11T01:23:47.000Z","updated":"2018-06-11T02:08:14.807Z","comments":true,"path":"2018/06/11/GradleForAndroid/","link":"","permalink":"http://joinyon.top/2018/06/11/GradleForAndroid/","excerpt":"","text":"Gradle for Android 读完本文我可以了解到： Android应用的构建过程 注意点 Android早期的构建工具 Ant Maven Android构建神器：Gradle Gradle的关键概念及构建生命周期 Gradle的两个关键概念：项目和任务 Gradle构建生命周期 Gradle Wrapper 总结 鸣谢 Android应用的构建过程Android应用的构建过程十分复杂，如图所示： 主要有以下几个步骤： 主要的资源文件（layout，values等）都被 aapt 编译，并且在一个R文件中引用 Java代码被Java编译器编译成JVM字节码(.class文件) JVM字节码再被dex工具转换成dalvik字节码（.dex文件） 然后这些.dex文件、编译过的资源文件和其他资源文件（比如图片）会被打包成一个apk apk文件在安装前会被debug/release的key文件签名 安装到设备 注意点 上面步骤中第一步是主要的资源文件，有些特别的资源文件就不会被编译，比如assets目录下的文件，raw目录下的文件以及图片，都不会被编译。只不过raw下的文件会在R文件里生成id 如果对apk正式签名，还需要使用zipalign工具对apk进行对齐操作，这样做的好处是当应用运行时会减少内存的开销 通过上面的了解，Android的构建过程十分复杂，如果每一步都要人工手动去完成的话，是费时费力的，效率太低，于是有了各种各样的构建工具。 Android早期的构建工具在Gradle之前被广泛使用的是Apache Ant和 Maven。 AntAnt 发布于2000年，很快成为Java项目最流行的构建工具。 Ant的优点： 简单、易学，不需要什么特殊的准备就能上手 基于过程式编程思想使得构建非常灵活 后来还能支持插件。 不足之处: 使用XML作为脚本配置格式，除非是很小的项目，否则它的XML文件就很快大得无法管理。MavenMaven 发布于2004年，目前是解决使用Ant所带来的一些问题。 Maven也是使用XML作为构建配置的文件格式，不过文件结构却有了巨大的变化： Ant 需要开发者将执行task所需的全部命令都列出来 Maven 依靠约定并提供现成可调用的目标 不仅如此， Maven 更重要的一个进步是具备从网络上自动下载依赖的能力（后来Ant通过lvy也具备了这个功能），这革命性地改变了我们开发软件的方式。Maven的缺点： 依赖管理不能很好地处理相同库文件不同版本之间的冲突（lvyz在这方面更好一些） XML作为配置文件的格式有严格的结构层次和标准，定制化目标很困难 Maven 主要解决了依赖管理的问题，然而使用XML的错误使他重蹈覆辙，实际上Maven很难写出复杂、定制化的构建脚本，在大型项目中，他经常什么“特别的事儿”还没干就有几百行代码，甚至不如Ant。 前辈们在反省前面两种构建工具的错误之后，提出了DSL（Domain Special Language，领域专用语言）的概念，目标是设计一套能够解决特定领域问题的语言。在构建方面，DSL的一个成功案例就是Gradle。 Android构建神器 Gradle 2012发布的Gradle深刻吸取前面几位前辈的经验和教训，集大家之所成，做了很多的改进。 Gradle有约定优于配置的原则，即为设置和属性提供默认值，这使得他比Ant或者Maven更容易上手。 Gradle构建脚本不再使用XML，而是使用Groovy的DSL进行书写（Groovy是一种基于Java虚拟机的动态语言，因此Android开发者看着会很熟悉），从而使得构建脚本比用Ant和Maven写的更清晰、简洁，下面是实现同样目标的Maven代码和Gradle代码对比: Gradle 既有Ant的强大和灵活性，又有Maven的依赖管理，支持插件且易于使用。因此一推出就获得广泛关注，2013年被Google选为Android Studio的默认构建工具。 Gradle设计的方式使他可以很容易地扩展构建和插入到现有的构建过程中，Google推广Gradle金额Android Studio时，目标是让代码复用、构建variant、配置和定制构建过程变得更加简单。 有人可能担心是否需要专门去学习新语言Groovy，《Gradle for Android》书中专门提到： Groovy代码非常易读，如果你学习过Java，那么学习Groovy的曲线不会陡峭 如果你想构建自己的任务和插件，那么对Groovy有更深次的理解尤为重要 不过因为Groovy是基于Java虚拟机的，所以你完全可以用Java或者其他基于Java虚拟机的语言来编写你的自定义插件。 Gradle的关键概念及构建生命周期Gradle的两个关键概念 项目和任务 项目每个build.gradle脚本构建文件代表一个项目project 任务task构建在脚本里： 每次构建至少包括一个项目，没干嘛项目里又至少包括一个任务。 Gradle构建生命周期一个Gradle构建通常包括下面三个阶段： 初始化 项目实例会在这时被创建，如果这个项目里有多个module，或者依赖多个library，并且他们都有对应的build.gradle文件，就会创建过个项目实例。 配置 在这个阶段构建脚本被执行，并且为每个项目实例创建和配置任务。 执行 在这个阶段Gradle将根据构建脚本配置决定哪些任务会被执行。 不同的任务之间可能有相互依赖，因此在配置阶段Gradle会产生依赖关系图，没有依赖的任务通常会被优先执行，然后一个接一个执行其他任务。一旦一个任务被执行过，就不会被再次执行。 Gradle WrapperGradle在不断的发展，有可能存在新版本不兼容旧版本的情况，于是官网为我们提供了 Gradle Wrapper，就是为了兼容和适配不同版本，确保构建是可重复的。 普通的Gradle脚步命令是： 1gradle ... 而Gradle Wrapper命令只是在gradle 后加个w：1gradlew ... 在Mac下略有不同：1./gradlew ... 开发者或者自动构建系统可以通过使用wapper来运行gradle命令，由它来搞定兼容等问题，因此我们甚至都不需要安装gradle，直接使用gradle wapper即可，就像Android Studio里推荐的一样： 上图所示并没有使用wrapper，是因为当运行gradlew命令时，gradle wrapper 会自动下载所需要但是你没有的gradle版本并使用。 这在多人协作时，很可能因为别人修改了gradle版本，上传到git，然后导致你运行命令时需要下载半天。 不过官方还是推荐使用wrapper，毕竟这样更稳定。 使用 gradle wrapper以后，gradle wrapper 会为每个项目下载一个gradle压缩包，路径在\\User\\yourname.gradle\\wrapper\\dists里： 总结Android Studio 占领市场后，构建工具Gradle的地位无人能敌，我们有必要学习、使用它来为我们创造价值。 摘抄这篇文章能初步了解Gradle的发展过程，它有什么优点，为什么会被广泛使用，有助于后续深入学习Gradle。 鸣谢本文转载自拭心 想了解更多参考： Java Build Tools: Ant vs Maven vs Gradle Why Build Your Java Projects with Gradle Rather than Ant or Maven? Android构建过程简述","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"知识点","slug":"知识点","permalink":"http://joinyon.top/tags/知识点/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"推广链PC上线百度招财猫，免费挖矿","slug":"推广链PC上线百度招财猫，免费挖矿","date":"2018-06-08T07:11:18.000Z","updated":"2018-06-08T07:18:33.470Z","comments":true,"path":"2018/06/08/推广链PC上线百度招财猫，免费挖矿/","link":"","permalink":"http://joinyon.top/2018/06/08/推广链PC上线百度招财猫，免费挖矿/","excerpt":"","text":"","categories":[{"name":"资讯","slug":"资讯","permalink":"http://joinyon.top/categories/资讯/"}],"tags":[{"name":"挖矿","slug":"挖矿","permalink":"http://joinyon.top/tags/挖矿/"}],"keywords":[{"name":"资讯","slug":"资讯","permalink":"http://joinyon.top/categories/资讯/"}]},{"title":"Android基础知识复习(持续更新)","slug":"Android基础知识复习","date":"2018-06-07T12:16:43.000Z","updated":"2019-02-22T06:30:34.283Z","comments":true,"path":"2018/06/07/Android基础知识复习/","link":"","permalink":"http://joinyon.top/2018/06/07/Android基础知识复习/","excerpt":"","text":"Part 1ActivityANR问题 ANR排错一般有三种类型 KeyDispatchTimeout(5 seconds) –主要是类型按键或者触摸事件在特定时间内无响应。 BaroadcastTimeout(10 seconds) –BroadcastReceiver在特定时间内无法处理完成。 ServiceTimeout(20 seconds) –小概率事件Service在特定的时间内无法处理完成。 哪些操作会导致ANR 在主线程执行以下操作： 高耗时的操作，如图像变换 磁盘读写操作，数据库读写操作 大量的创建新对象 如何避免？ UI线程尽量只做跟UI相关的工作 耗时的操作（比如数据库操作，I/O，连接网络或者别的有可能阻塞UI线程的操作）把它放在单独的线程处理 尽量用Handler来处理UIThread和别的Thread之间的交互 解决逻辑 使用AsyncTask 在doInbackground()方法中执行耗时操作 在onPostExecuted()更新UI 使用Handler实现异步任务 在子线程中处理耗时操作 处理完成之后，通过handler.sendMessage()传递处理结果 在handler的handleMessage()方法中更新UI 或者使用handler.post()方法将消息放到Looper中 如何排查 首先分析log 从stace.txt文件查看调用stack，adb pull data/anr/trace.txt./mytraces.txt 看代码 仔细查看ANR的成因（I/O wait? block? memoryleak?） 监测ANR的Watchdog最近出来一个叫LeakCanary的工具 FC(Force Close)什么时候会出现 Error OOM,内存溢出 StackOverFlowError Runtime，比如说空指针异常 解决的办法 注意内存的使用和管理 使用Thread.UncaughtExceptionHandler接口 Android关于OOM的解决方案 OOM 内存溢出(Out Of Memory) 也就是内存占有量超过了VM所分配的最大 出现OOM的原因 加载对象过大 相应的资源过多，来不及释放 如何解决 在内存引用上做些处理，常用的有软引用、强化引用、弱引用 在内存中加载图片时直接在内存中做处理，如边界压缩 动态回收内存 优化Dalvik虚拟机的堆内存分配 自定义堆内存大小 禁止跟随屏幕旋转在清单文件中的Activity添加一下代码：1android:screenOrientation=&quot;portrait&quot; Fragment 的用法及分类 DialogFragment 替代Dialog的解决方案 与JS交互","categories":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}],"tags":[{"name":"差缺补漏","slug":"差缺补漏","permalink":"http://joinyon.top/tags/差缺补漏/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"http://joinyon.top/categories/Android/"}]},{"title":"何为Github Pages?","slug":"何为Github-Pages","date":"2018-06-06T09:02:35.000Z","updated":"2018-06-08T07:06:39.849Z","comments":true,"path":"2018/06/06/何为Github-Pages/","link":"","permalink":"http://joinyon.top/2018/06/06/何为Github-Pages/","excerpt":"","text":"本人在创建自己的Github Pages过程中遇到了种种麻烦，作为一个前端小白，遇到一个小问题要Google上半天，还不一定能一下解决，所以在初步搭建好自己的个人博客主页时，已经迫不及待的要记录下这次搭建的过程。由于本人英文水平不是很高，所以看起英文文档比较吃力，现在我要把自己好不容易读懂的文档翻译过来，方便下次查阅。 GitHub Pages是什么？ GitHub Pages使用指南 使用界限 GitHub Pages是什么？GitHub Pages是一个静态网站托管服务，它可以直接从你的GitHub仓库管理个人、组织或者项目的主页。 我们可以利用Jekyll Theme Chooser在线创建和发布GitHub Pages，如果你更喜欢离线去做，你可以使用GitHub Desktop或者command line来完成。 GitHub Pages是一个静态的站点寄存服务，它不支持服务端的代码，比如：PHP,Ruby,或者Python。 想了解更多不同类型的 GitHub Pages ，请参考用户，组织和项目主页 `警告:` GitHub Pages站点在互联网上是可以被公开的，尽管它的仓库是私有的，如果您有敏感的数据在你的页面仓库，您最好先删 除掉之后再进行发布。 GitHub Pages使用指南> Github Pages站点在2016年6月15日之后使用域名github.io通过HTTPS服务。如果你的站点是在2016年6月15日之前创建的，那么你可以使用支持HTTPS协议保持你的站点可访问。 > Github Pages站点不应该记录敏感信息，比如发送密码或者信用卡账号等内容。 > 当您使用 GitHub Pages 必须服从GitHub服务条款,以及严禁转让该权利。 使用界限Github Pages站点受以下几点使用限制： 使用command line添加一个已经存在的项目到GitHub用户,组织和项目主页","categories":[{"name":"工具","slug":"工具","permalink":"http://joinyon.top/categories/工具/"}],"tags":[{"name":"文档翻译","slug":"文档翻译","permalink":"http://joinyon.top/tags/文档翻译/"}],"keywords":[{"name":"工具","slug":"工具","permalink":"http://joinyon.top/categories/工具/"}]},{"title":"我的第一篇blog","slug":"我的第一篇blog","date":"2018-06-06T08:36:02.000Z","updated":"2018-06-08T07:31:47.634Z","comments":true,"path":"2018/06/06/我的第一篇blog/","link":"","permalink":"http://joinyon.top/2018/06/06/我的第一篇blog/","excerpt":"","text":"为什么要写博客？","categories":[{"name":"生活","slug":"生活","permalink":"http://joinyon.top/categories/生活/"}],"tags":[{"name":"随笔","slug":"随笔","permalink":"http://joinyon.top/tags/随笔/"}],"keywords":[{"name":"生活","slug":"生活","permalink":"http://joinyon.top/categories/生活/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-06-06T03:46:08.436Z","updated":"2018-06-08T07:25:32.050Z","comments":true,"path":"2018/06/06/hello-world/","link":"","permalink":"http://joinyon.top/2018/06/06/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}],"tags":[{"name":"随笔","slug":"随笔","permalink":"http://joinyon.top/tags/随笔/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"http://joinyon.top/categories/技术/"}]}]}